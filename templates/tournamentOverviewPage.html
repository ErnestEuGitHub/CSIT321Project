{% extends "layout.html" %}

{% block content %}

		<div class="container h-100 navbarcontentpadding">
			<div>
				<div class="d-flex justify-content-between">
                    <h1 class="fs-4 fw-bold my-4">{% if not tourName %}No Tournament Name{% else %}{{tourName}}{% endif %}</h1>
                    <a href="/dashboard/{{projID}}/{{tourID}}" class="btn btn-primary my-4" role="button" aria-disabled="true">Manage</a>
                </div>
                <div class="row justify-content-center mb-4">
                    <ul class="nav nav-pills">
                        <li class="nav-item" id="overviewTab">
                            <a class="nav-link active" aria-disabled="false">Overview</a>
                        </li>
                        <li class="nav-item" id="participantsTab">
                            <a class="nav-link" aria-disabled="false">Participants</a>
                        </li>
                        <li class="nav-item" id="matchesTab">
                            <a class="nav-link" aria-disabled="false">Matches</a>
                        </li>
                        <li class="nav-item" id="statsTab">
                            <a class="nav-link" aria-disabled="false">Stats</a>
                        </li>
                         <li class="nav-item" id="mediaTab">
                            <a class="nav-link" aria-disabled="false">Media</a>
                        </li>
                      </ul>
                </div>
                <div class="row justify-content-center mb-4">
                    {% if tourBannerID %}
                    <img src="https://drive.google.com/uc?export=view&id={{tourBannerID}}" alt="" height="350px">
                    {% else %}
                    <!-- Image placeholder -->
                    <img src="https://via.placeholder.com/600x350/F9F9F9?text=Please+Upload+Banner+Image" alt="" height="350px">
                    {% endif %}
                </div>
                <div class="row justify-content-center mb-4">
                    <ul class="nav nav-pills">
                        <li class="nav-item" id="detailsTab">
                            <a class="nav-link active" aria-disabled="false">Details</a>
                        </li>
                        <li class="nav-item" id="ruleTab">
                            <a class="nav-link" aria-disabled="false">Rules</a>
                        </li>
                        <li class="nav-item" id="prizeTab">
                            <a class="nav-link" aria-disabled="false">Prize</a>
                        </li>
                        <li class="nav-item" id="contactTab">
                            <a class="nav-link" aria-disabled="false">Contact</a>
                        </li>
                    </ul>
                </div>

                <div id="overviewTabContent" block>
                    <h6 class="mb-4 ">overviewTabContent</h6>
                </div>
                <div id="participantsTabContent" hidden>
                    <h6 class="mb-4 ">Participant Size : {{ total_participants }}</h6>
                    <h6 class="mb-4 ">Team Name : 
                        {% for participant in participants %}
                        <tr>
                            <td>{{ participant.participantName }}</td>
                        </tr>
                        {% endfor %}
                    </h6>
                </div>
                <div id="matchesTabContent" hidden>
                    <h6 class="mb-4 ">matchesTabContent</h6>
                </div>
                <div id="statsTabContent" hidden>
                    <h6 class="mb-4 ">statsTabContent</h6>
                </div>
                <div id="mediaTabContent" hidden>
                    <h6 class="mb-4 ">mediaTabContent</h6>
                </div>
                <div id="detailsTabContent" block>
                    <h6 class="mb-4 ">Sport: {% if not sportName %}No Sport Name{% else %}{{sportName}}{% endif %}</h6>
                    <h6 class="mb-4 ">Gender: {% if not gender %}No Gender{% else %}{{gender}}{% endif %}</h6>
                    <!-- <h4 class="fs-4 mb-4 ">Age Limit: 18 and above</h4> -->
                    <h6 class="mb-4 ">Tournament Start Date: {% if not startDate %}No Start Date{% else %}{{startDate}}{% endif %}</h6>
                    <h6 class="mb-4 ">Tournament End Date: {% if not endDate %}No End Date{% else %}{{endDate}}{% endif %}</h6>

                </div>
                <div id="ruleTabContent" hidden>
                    <h6 class="mb-4 ">Rule 1: Cannot Tackle</h6>
                </div>
                <div id="prizeTabContent" hidden>
                    <h6 class="mb-4 ">Prize Pool: $1 Billion USD</h6>
                </div>
                <div id="contactTabContent" hidden>
                    <h6 class="mb-4 ">Official Email: contact@gamesphere.com</h6>
                </div>
			</div>
		</div>
	</section>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let overviewTab = document.getElementById("overviewTab");
        let participantsTab = document.getElementById("participantsTab");
        let matchesTab = document.getElementById("matchesTab");
        let statsTab = document.getElementById("statsTab");
        let mediaTab = document.getElementById("mediaTab");
        let detailsTab = document.getElementById("detailsTab");
        let ruleTab = document.getElementById("ruleTab");
        let prizeTab = document.getElementById("prizeTab");
        let contactTab = document.getElementById("contactTab");

        let overviewTabContent = document.getElementById("overviewTabContent");
        let participantsTabContent = document.getElementById("participantsTabContent");
        let matchesTabContent = document.getElementById("matchesTabContent");
        let statsTabContent = document.getElementById("statsTabContent");
        let mediaTabContent = document.getElementById("mediaTabContent");
        let detailsTabContent = document.getElementById("detailsTabContent");
        let ruleTabContent = document.getElementById("ruleTabContent");
        let prizeTabContent = document.getElementById("prizeTabContent");
        let contactTabContent = document.getElementById("contactTabContent");
        
        overviewTab.addEventListener("click", function(){tabFn(overviewTab);});
        participantsTab.addEventListener("click", function(){tabFn(participantsTab);});
        matchesTab.addEventListener("click", function(){tabFn(matchesTab);});
        statsTab.addEventListener("click", function(){tabFn(statsTab);});
        mediaTab.addEventListener("click", function(){tabFn(mediaTab);});             
        detailsTab.addEventListener("click", function(){tabFn(detailsTab);});
        ruleTab.addEventListener("click", function(){tabFn(ruleTab);});
        prizeTab.addEventListener("click", function(){tabFn(prizeTab);});
        contactTab.addEventListener("click", function(){tabFn(contactTab);});

        function tabFn(tabClicked) {
            const tabs = [overviewTab, participantsTab, matchesTab, statsTab, mediaTab, detailsTab, ruleTab, prizeTab, contactTab]
            const tabsContent = [overviewTabContent, participantsTabContent, matchesTabContent, statsTabContent, mediaTabContent, detailsTabContent, ruleTabContent, prizeTabContent, contactTabContent]

            for (tab of tabs){
                if (tabClicked === tab){
                    tab.firstElementChild.classList.add("active");
                    for(tabC of tabsContent){
                        if (tabsContent.indexOf(tabC) === tabs.indexOf(tab)){
                            tabC.hidden = false;
                        } else {
                            tabC.hidden = true;
                        }
                    }
                } else {
                    tab.firstElementChild.classList.remove("active");
                }
            }
        }
    </script>
	
{% endblock %}