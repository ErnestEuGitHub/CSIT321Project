{% extends "layout.html" %}

{% block content %}
<link rel="stylesheet" href="/static/css/seeding.css">

<div class="content">
    <div class="panel panel-default ms-2">
        <div class="bracket">
            <section class="round one">
                {% for one in range(numberOfParticipants//4) %}
                    <div class="winners">
                        <div class="matchups">
                            <div class="matchup roundone" id="">
                                <label class="fs-6">Date and Time</label>
                                <div class="participants">
                                    <div class="participant"><span class="GrpSelected-participants"></span></div>
                                    <div class="participant"><span class="GrpSelected-participants"></span></div>
                                </div>
                            </div>
                            <div class="matchup roundone" id="">
                                <div class="participants">
                                    <div class="participant"><span class="GrpSelected-participants"></span></div>
                                    <div class="participant"><span class="GrpSelected-participants"></span></div>
                                </div>
                                <label class="fs-6">Date and Time</label>
                            </div>
                        </div>
                        <div class="connector">
                            <div class="merger"></div>
                            <div class="line"></div>
                        </div>
                    </div>
                {% endfor %}
            </section>

            <section class="round two">
                {% for two in range(numberOfParticipants//8) %}
                    <div class="winners py-roundtwo">
                        <div class="matchups">
                            <div class="matchup">
                                <label class="fs-6">Date and Time</label>
                                <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                                </div>
                            </div>
                            <div class="matchup">
                                <div class="participants">
                                    <div class="participant"></div>
                                    <div class="participant"></div>
                                </div>
                                <label class="fs-6">Date and Time</label>
                            </div>
                        </div>
                        <div class="connector">
                            <div class="merger"></div>
                            <div class="line"></div>
                        </div>
                    </div>
                {% endfor %}
            </section>
            
            {% if numberOfParticipants > 15 %}
            <section class="round three">
                {% for three in range(numberOfParticipants//16) %}
                <div class="winners py-roundthree">
                    <div class="matchups">
                        <div class="matchup">
                            <label class="fs-6">Date and Time</label>
                            <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                            </div>
                        </div>
                        <div class="matchup">
                            <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                            </div>
                            <label class="fs-6">Date and Time</label>
                        </div>
                    </div>
                    <div class="connector">
                        <div class="merger"></div>
                        <div class="line"></div>
                    </div>
                </div>
                {% endfor %}
            </section>
            {% endif %}
            
            {% if numberOfParticipants > 31 %}
            <section class="round four">
                {% for four in range(numberOfParticipants//32) %}
                <div class="winners py-roundfour">
                    <div class="matchups">
                        <div class="matchup">
                            <label class="fs-6">Date and Time</label>
                            <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                            </div>
                        </div>
                        <div class="matchup">
                            
                            <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                            </div>
                            <label class="fs-6">Date and Time</label>
                        </div>
                    </div>
                    <div class="connector">
                        <div class="merger"></div>
                        <div class="line"></div>
                    </div>
                </div>
                {% endfor %}
            </section>
            {% endif %}

            {% if numberOfParticipants > 63 %}
            <section class="round five">
                {% for five in range(numberOfParticipants//64) %}
                <div class="winners py-roundfive">
                    <div class="matchups">
                        <div class="matchup">
                            <label class="fs-6">Date and Time</label>
                            <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                            </div>
                        </div>
                        <div class="matchup">
                            <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                            </div>
                            <label class="fs-6">Date and Time</label>
                        </div>
                    </div>
                    <div class="connector">
                        <div class="merger"></div>
                        <div class="line"></div>
                    </div>
                </div>
                {% endfor %}
            </section>
            {% endif %}

            <section class="round final">
                <div class="winners">
                    <div class="matchups">
                        <div class="matchup">
                            <label class="fs-6">Date and Time</label>
                            <div class="participants">
                                <div class="participant"></div>
                                <div class="participant"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    
    var stageMatchArray = {{stageMatchArray|tojson|safe}};
    console.log(stageMatchArray);

    roundOneMatchArray = stageMatchArray[0]
    console.log(roundOneMatchArray);

    document.addEventListener("DOMContentLoaded", function () {
        console.log("triggered!")
        // Select all elements with class "matchup"
        var matchups = document.querySelectorAll('.matchup.roundone');
        console.log(matchups)

        // Loop through each matchup element and set the id attribute
        matchups.forEach(function (matchup, index) {
            // Check if the current index is within the array bounds
            if (index < roundOneMatchArray.length) {
                // Set the id attribute with the corresponding matchID
                matchup.id = roundOneMatchArray[index].matchID;
                console.log("matchupid triggered!")
            }
        });
    });

</script>
{% endblock %}